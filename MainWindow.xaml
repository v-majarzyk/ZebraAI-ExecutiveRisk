<Window x:Class="ZebraAI_ExecutiveRisk.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Zebra AI Executive Risk Dashboard" Height="650" Width="1000">

    <Grid Margin="10">
        
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>      <RowDefinition Height="*"/>         <RowDefinition Height="Auto"/>      </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>  <ColumnDefinition Width="200"/>   <ColumnDefinition Width="Auto"/>  <ColumnDefinition Width="200"/>   <ColumnDefinition Width="*"/>     </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> 
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Label Content="Severity (Select All That Apply):" Grid.Row="0" Grid.Column="0" VerticalAlignment="Top" FontWeight="Bold" Margin="0,5,0,0"/>
            <ListBox Grid.Row="0" Grid.Column="1" Margin="5" Height="100"
                     ItemsSource="{Binding SeverityOptions}"
                     SelectionMode="Multiple">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Content="{Binding Value}" IsChecked="{Binding IsSelected}" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <Label Content="Service Offerings (Select All That Apply):" Grid.Row="0" Grid.Column="2" VerticalAlignment="Top" FontWeight="Bold" Margin="20,5,0,0"/>
            <ListBox Grid.Row="0" Grid.Column="3" Margin="5" Height="100"
                     ItemsSource="{Binding ServiceOfferingLevel2Options}"
                     SelectionMode="Multiple">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Content="{Binding Value}" IsChecked="{Binding IsSelected}" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <Button Grid.Row="1" Grid.Column="3" Grid.ColumnSpan="2" HorizontalAlignment="Left"
                    Content="Run Zebra AI Analysis (POC)" 
                    Command="{Binding SearchCommand}" 
                    Padding="10,5" Width="300" Margin="5,10,0,0"
                    Background="#007ACC" Foreground="White" 
                    FontWeight="Bold"/>
        </Grid>

        <DataGrid 
            Grid.Row="1" 
            ItemsSource="{Binding CasesList}" 
            AutoGenerateColumns="False" 
            IsReadOnly="True"
            CanUserResizeColumns="True"
            Background="#F9F9F9"
            AlternatingRowBackground="#EFEFEF">
            
            <DataGrid.Columns>
                <DataGridTextColumn Header="Case #" Binding="{Binding CaseNumber}" Width="Auto" />
                <DataGridTextColumn Header="Title / Summary" Binding="{Binding Title}" Width="3*" />
                <DataGridTextColumn Header="Customer" Binding="{Binding Customer}" Width="1.5*" />
                <DataGridTextColumn Header="Severity" Binding="{Binding Severity}" Width="Auto" />
                <DataGridTextColumn Header="Days Open" Binding="{Binding DaysOpen}" Width="Auto" />
                <DataGridTextColumn Header="Support Area" Binding="{Binding Sap}" Width="2*" />
                <DataGridCheckBoxColumn Header="Engage?" Binding="{Binding EngageNow}" Width="Auto" />
                <DataGridHyperlinkColumn Header="Link" Binding="{Binding Link}" Width="*" />
            </DataGrid.Columns>
        </DataGrid>

        <StatusBar Grid.Row="2" Margin="0,10,0,0">
            <TextBlock Text="{Binding CasesList.Count, StringFormat='{}Total Cases Found: {0}'}"/>
        </StatusBar>
        
    </Grid>
</Window>